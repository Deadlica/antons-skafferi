<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:panelGroup layout="block" styleClass="main">
        <h1>Á la carte</h1>
        <h:panelGroup layout="block">
            <!-- ADD CARTE ITEM -->
            <h:form styleClass="carte-add-item">
                <h:outputLabel>Välj rätt</h:outputLabel>
                <h:selectOneMenu value="#{CarteBean.carteItem.dish.id}">
                    <f:selectItems value="#{FoodItemsBean.list}" var="dish"
                                   itemValue="#{dish.id}"
                                   itemLabel="#{dish.name}"/>
                </h:selectOneMenu>


                <h:outputLabel>Pris</h:outputLabel>
                <h:inputText value="#{CarteBean.carteItem.price}">
                </h:inputText>

                <h:outputLabel>Beskrivning</h:outputLabel>
                <h:inputTextarea value="#{CarteBean.carteItem.description}">
                </h:inputTextarea>


                <h:outputLabel>Kategori</h:outputLabel>
                <h:selectOneMenu value="#{CarteBean.carteItem.category}">
                    <f:selectItem itemValue="Förrätt" itemLabel="Förrätt"/>
                    <f:selectItem itemValue="Varmrätt" itemLabel="Varmrätt"/>
                    <f:selectItem itemValue="Dessert" itemLabel="Dessert"/>
                    <f:selectItem itemValue="Dryck" itemLabel="Dryck"/>
                </h:selectOneMenu>
                <h:commandButton value="Lägg till!" action="#{CarteBean.addItem()}" type="submit"/>
            </h:form>
        </h:panelGroup>


        <div class="admin-carte-categories">
            <!-- FÖRRÄTTER -->
            <div>
                <h2>Förrätt</h2>
                <ui:repeat value="#{CarteBean.starters}" var="starter">
                    <h:form id="starters" styleClass="admin-carte-item">
                        <p><h:outputText value="#{starter.dish.name}" id="starter"/></p>
                        <h:commandButton value="Delete" type="submit"
                                         action="#{CarteBean.deleteItem(starter.dish.id)}">
                            <f:ajax event="click" render="starters"/>
                        </h:commandButton>

                    </h:form>
                </ui:repeat>
            </div>

            <!-- VARMRÄTTER -->
            <div>
                <h2>Varmrätter</h2>
                <ui:repeat value="#{CarteBean.mainCourses}" var="main">
                    <h:panelGroup layout="block" styleClass="admin-carte-item">
                        <p><h:outputText value="#{main.dish.name}" id="main"/></p>
                        <i class="fa-solid fa-trash carte-remove"/>
                    </h:panelGroup>
                </ui:repeat>
            </div>

            <!-- DESSERT -->
            <div>
                <h2>Dessert</h2>
                <ui:repeat value="#{CarteBean.desserts}" var="dessert">
                    <h:panelGroup layout="block" styleClass="admin-carte-item">
                        <p><h:outputText value="#{dessert.dish.name}" id="dessert"/></p>
                        <i class="fa-solid fa-trash carte-remove"/>
                    </h:panelGroup>
                </ui:repeat>
            </div>

            <!-- DRYCK -->
            <div>
                <h2>Dryck</h2>
                <ui:repeat value="#{CarteBean.drinks}" var="drink">
                    <h:panelGroup layout="block" styleClass="admin-carte-item">
                        <p><h:outputText value="#{drink.dish.name}" id="drink"/></p>
                        <i class="fa-solid fa-trash carte-remove"/>
                    </h:panelGroup>
                </ui:repeat>
            </div>
        </div>
    </h:panelGroup>
</ui:composition>
